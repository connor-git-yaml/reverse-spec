# 产品→功能 spec 映射
# 由 Spec Driver sync 子代理自动生成，可手动编辑覆盖
# 手动添加的条目在重跑 sync 时不会被覆盖
#
# 最后更新: 2026-02-28

products:
  reverse-spec:
    description: "源代码逆向工程为结构化 Spec 文档的 Claude Code Plugin"
    specs:
      - id: "001-reverse-spec-v2"
        type: INITIAL
        summary: "核心能力：AST + LLM 混合流水线，单模块/批量 Spec 生成 + 漂移检测"
      - id: "002-cli-global-distribution"
        type: FEATURE
        summary: "CLI 全局分发与 npm install -g 支持"
      - id: "003-skill-init"
        type: FEATURE
        summary: "项目级 Skill 初始化与自包含架构"
      - id: "004-claude-sub-auth"
        type: FEATURE
        summary: "Claude 订阅账号认证，支持 Max/Pro 用户无 API Key 使用"
      - id: "005-batch-quality-fixes"
        type: FIX
        summary: "Batch 模块级聚合重构与生成质量修复"
      - id: "006-batch-progress-timeout"
        type: ENHANCEMENT
        summary: "批量生成细粒度进度报告与超时优化"
      - id: "007-fix-batch-llm-defaults"
        type: FIX
        summary: "修复 Batch LLM 默认模型/提示词/超时配置"
      - id: "008-fix-spec-absolute-paths"
        type: FIX
        summary: "修复 Spec 输出中绝对路径为相对路径"
      - id: "009-plugin-marketplace"
        type: REFACTOR
        summary: "重构为 Claude Code Plugin Marketplace 架构"
      - id: "010-fix-dotspecs-to-specs"
        type: FIX
        summary: "统一 spec 输出目录引用 .specs → specs"

  spec-driver:
    description: "Spec Driver v3.3.0 — 自治研发编排器 Claude Code Plugin，支持 feature/story/fix/resume/sync/doc 六种模式，含验证铁律、三级门禁策略、灵活调研路由、并行子代理加速"
    specs:
      - id: "011-speckit-driver-pro"
        type: INITIAL
        summary: "完整自治编排器：10 阶段工作流、4 质量门、resume/rerun 机制、story/fix 快速模式"
      - id: "012-product-spec-sync"
        type: FEATURE
        summary: "产品规范聚合（--sync）：增量 spec 智能合并为产品级活文档"
      - id: "013-split-skill-commands"
        type: REFACTOR
        summary: "拆分单体技能为 run/resume/sync 三个独立命令，优化上下文预算"
      - id: "014-rename-spec-driver"
        type: REFACTOR
        summary: "重命名 speckitdriver → spec-driver v3.0.0，技能统一 speckit-* 前缀"
      - id: "015-speckit-doc-command"
        type: FEATURE
        summary: "新增 speckit-doc 命令——开源文档一键生成（README/LICENSE/CONTRIBUTING/CODE_OF_CONDUCT）"
      - id: "016-optimize-sync-product-doc"
        type: ENHANCEMENT
        summary: "优化 sync 产品文档——模板扩展至 14 章节，新增推断规则与质量门控"
      - id: "017-adopt-superpowers-patterns"
        type: ENHANCEMENT
        summary: "借鉴 Superpowers 行为约束模式——验证铁律、三级门禁策略、双阶段代码审查、设计硬门禁"
      - id: "018-flexible-research-routing"
        type: ENHANCEMENT
        summary: "Feature 模式灵活调研路由——6 种调研模式预设、智能推荐、命令行参数覆盖"
      - id: "019-parallel-subagent-speedup"
        type: ENHANCEMENT
        summary: "并行子代理加速——验证闭环三并行、调研并行、clarify+checklist 并行、串行回退安全网"
