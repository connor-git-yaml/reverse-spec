# {PRODUCT_NAME} — 产品级活规范

**最后更新**: {LAST_UPDATED}
**聚合来源**: {SPEC_COUNT} 个增量功能规范
**当前版本**: 基于 specs/{LATEST_SPEC_ID} 为止的全部已实现功能

> 本文档由 Spec Driver 的 sync 子代理自动生成，反映产品的当前完整状态。
> 增量功能规范保留在 `specs/NNN-xxx/` 目录中作为决策历史记录。

---

## 产品概述

{PRODUCT_OVERVIEW}

**定位**: {PRODUCT_POSITIONING}
**目标用户**: {TARGET_USERS}
**核心价值**: {CORE_VALUE}

---

## 目标与成功指标

### 产品愿景

{PRODUCT_VISION}

### 成功指标

| 指标 | 基线值 | 当前值 | 目标值 | 来源 spec |
|------|--------|--------|--------|----------|
| {指标名} | {基线} | {当前} | {目标} | {NNN-xxx} |

<!-- 聚合指导: 从各 spec 的 Success Criteria 和 Measurable Outcomes 中提取产品级 KPI -->

---

## 用户画像与场景

### 目标用户

| 用户角色 | 描述 | 核心痛点 | 使用频率 |
|---------|------|---------|---------|
| {角色名} | {描述} | {痛点} | {频率} |

### 核心使用场景

1. **{场景名}**: {场景描述}
   - **触发条件**: {触发}
   - **期望结果**: {结果}
   - **来源**: specs/{NNN-xxx}

<!-- 聚合指导: 从 User Stories 中提取用户角色和场景，合并同类用户 -->

---

## 范围与边界

### 范围内

- {功能/能力描述}（来源: {NNN-xxx}）

### 范围外

- {明确排除的功能/能力}（来源: {NNN-xxx}）

<!-- 聚合指导: 从各 spec 的 Constraints & Boundaries 章节提取，合并去重 -->

---

## 当前功能全集

### 功能总览

| 编号 | 功能 | 来源 spec | 状态 | 说明 |
|------|------|----------|------|------|
| F-001 | {功能名} | {NNN-xxx} | ✅ 活跃 / 🔄 已更新 / ❌ 已废弃 | {一句话说明} |

### 详细功能描述

#### F-001: {功能名}

**来源**: specs/{NNN-xxx}/spec.md
**状态**: ✅ 活跃

{功能的当前描述——合并所有相关 spec 后的最终版本}

**当前行为**:
- {行为描述 1}
- {行为描述 2}

**验收标准**:
- {从最新相关 spec 提取的验收标准}

---

## 非功能需求

### 性能

| 指标 | 要求 | 来源 spec |
|------|------|----------|
| {指标} | {要求描述} | {NNN-xxx} |

### 安全

- {安全要求}（来源: {NNN-xxx}）

### 可扩展性

- {可扩展性要求}（来源: {NNN-xxx}）

### 可用性

- {可用性要求}（来源: {NNN-xxx}）

### 兼容性

- {兼容性要求}（来源: {NNN-xxx}）

<!-- 聚合指导: 从各 spec 的非功能需求、Constraints、Edge Cases 中提取，按类别归组 -->
<!-- 容错: 若某类别无信息，标注 [待补充: 增量 spec 中未明确此维度] -->

---

## 当前技术架构

> 从最新的 plan.md 提取，重构类 spec 的架构描述优先。

**技术栈**: {TECH_STACK}
**项目结构**:

```text
{PROJECT_STRUCTURE}
```

> 关键设计决策已迁移至【设计原则与决策记录】章节，详见下方。

---

## 设计原则与决策记录

### 设计原则

1. **{原则名}**: {原则描述}（来源: {NNN-xxx}）

### 关键决策记录

| 决策 | 上下文 | 理由 | 替代方案 | 来源 spec |
|------|--------|------|---------|----------|
| {决策描述} | {决策背景} | {选择理由} | {被拒绝的方案} | {NNN-xxx} |

<!-- 聚合指导: 从各 plan.md 的架构决策和 Complexity Tracking 中提取 -->

---

## 已知限制与技术债

| 来源 spec | 类别 | 描述 | 状态 |
|----------|------|------|------|
| {NNN-xxx} | 限制 / 技术债 | {描述} | 未解决 / 已在 {NNN-xxx} 中解决 |

---

## 假设与风险

### 关键假设

| 假设 | 依据 | 影响（若假设不成立） | 来源 spec |
|------|------|-------------------|----------|
| {假设描述} | {依据} | {影响} | {NNN-xxx} |

### 风险矩阵

| 风险 | 概率 | 影响 | 缓解措施 | 来源 spec |
|------|------|------|---------|----------|
| {风险描述} | 高/中/低 | 高/中/低 | {措施} | {NNN-xxx} |

<!-- 聚合指导: 从各 spec 的 Dependencies & Impacts、Edge Cases、Constraints 推断 -->

---

## 被废弃的功能

> 以下功能已被后续迭代取代或移除。

| 原功能 | 原始 spec | 废弃原因 | 取代者 |
|--------|----------|---------|--------|
| {功能名} | {NNN-xxx} | {原因} | {NNN-xxx} 中的 {新功能} |

---

## 变更历史

| 编号 | 功能 spec | 类型 | 日期 | 摘要 |
|------|----------|------|------|------|
| 001 | {NNN-xxx} | INITIAL / FEATURE / FIX / REFACTOR / ENHANCEMENT | {日期} | {一句话摘要} |

---

## 术语表

| 术语 | 定义 | 来源 spec |
|------|------|----------|
| {术语} | {定义} | {NNN-xxx} |

<!-- 聚合指导: 从各 spec 中提取反复出现的领域术语，统一定义 -->
<!-- 真实性优先: 仅收录增量 spec 中实际出现的术语，信息不足时允许少于 5 个 -->

---

## 附录：增量 spec 索引

| spec | 标题 | 类型 | 关键变更 |
|------|------|------|---------|
| [001-xxx](../001-xxx/spec.md) | {标题} | {类型} | {关键变更摘要} |
